### 양방향 연관관계

이전에 회원 -> 팀 다대일 단방향 매핑을 알아봤으니, 이번에는 팀 -> 회원 으로 접근하는 관계를 추가해보자.
<br>그래서 회원에서 팀, 팀에서 회원으로 접근할 수 있도록 양방향 연관관계로 매핑해보자.

일대다 관계는 여러 건과 연관관계를 맺을 수 있으므로 `컬렉션`을 사용해야 한다.
> JPA는 List를 포함해서 Collection, Set, Map 같은 다양한 컬렉션을 지원한다.

---

이전 코드의 Team 클래스를 수정하자.
```java
@Entity
public class Team {
  
  @ID @Coulumn(name = "TEAM_ID")
  private String id;
  
  priavte String name;

  //추가
  @OneToMany(mappedBy = "team")
  private List<Member> members = new ArrayList<Member>();
}
```

`mappedBy`는 양방향 매핑일 때 사용한다. 반대쪽 매핑의 필드 이름을 값으로 주면 된다.<br>
이렇게 하면 연관관계의 주인은 `Member.team` 이 된다는 말이다.

---

### 5.4 연관관계의 주인
mappedBy를 알아보자.

엄밀히 이야기하면 `객체`에는 양방향 연관관계가 없다고 한다. 서로 다른 단방향 2개를 양방향처럼 보이게 할 뿐..!

>엔티티를 양방향 연관관계로 설정하면 객체의 참조는 둘인데 외래 키는 하나... 여기서 둘 사이에 차이가 발생한다.<br>
>두 객체 연관관계 중 하나를 정해서 테이블의 외래 키를 관리해야 하는에 이것을 `연관관계의 주인` 이라 한다.

연관관계의 주인만이 데이터베이스 연관관계와 매핑되고 외래 키를 관리(등록,수정,삭제)할 수 있다. 아닌 쪽은 읽기만 할 수 있음.

> - 주인은 maapedBy 속성을 사용하지 않는다.
> - 주인이 아니면 mappedBy 속성을 사용해서 속성의 값으로 연관관계의 주인을 지정해야 한다.

연관관계의 주인을 정한다는 것은 사실 외래 키 관리자를 선택하는 것이다.

그렇다면 연관관계의 주인은 어떻게 설정해야 할까?

> 연관관계의 주인은 외래 키가 있는 곳
